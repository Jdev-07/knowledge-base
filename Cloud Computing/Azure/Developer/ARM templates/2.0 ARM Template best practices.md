## Template limits

Limit the size of your template to 4 MB, and each resource definition to 1 MB. The limits apply to the final state of the template after it has been expanded with iterative resource definitions, and values for variables and parameters. The parameter file is also limited to 4 MB. You may get an error with a template or parameter file of less than 4 MB if the total size of the request is too large. For more information about how to simplify your template to avoid a large request, see [Resolve errors for job size exceeded](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/error-job-size-exceeded).

You're also limited to:
- 256 parameters
- 512 variables
- 800 resources (including [copy count](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/copy-resources))
- 64 output values
- 10 unique locations per subscription/tenant/management group scope
- 24,576 characters in a template expression

You can exceed some template limits by using a nested template. For more information, see [Using linked and nested templates when deploying Azure resources](https://learn.microsoft.com/en-us/azure/azure-resource-manager/templates/linked-templates). To reduce the number of parameters, variables, or outputs, you can combine several values into an object. For more information, see [Objects as parameters](https://learn.microsoft.com/en-us/azure/architecture/guide/azure-resource-manager/advanced-templates/objects-as-parameters).

## Resource Group

When you deploy resources to a resource group, the resource group stores metadata about the resources. The metadata is stored in the location of the resource group.

If the resource group's region is temporarily unavailable, you can't update resources in the resource group because the metadata is unavailable. The resources in other regions will still function as expected, but you can't update them. To minimize risk, locate your resource group and resources in the same region.

## Parameters

### General recommendations for params

- Minimize your use of parameters. Instead, use variables or literal values for properties that don't need to be specified during deployment.
    
- Use camel case for parameter names.
    
- Use parameters for settings that vary according to the environment, like SKU, size, or capacity.
    
- Use parameters for resource names that you want to specify for easy identification.
    
- Provide a description of every parameter in the metadata.

```JSON
"parameters": {
  "storageAccountType": {
    "type": "string",
    "metadata": {
      "description": "The type of the new storage account created to store the VM disks."
    }
  }
}
```

* Define default values for parameters that aren't sensitive. By specifying a default value, it's easier to deploy the template, and users of your template see an example of an appropriate value. Any default value for a parameter must be valid for all users in the default deployment configuration.

```JSON
"parameters": {
  "storageAccountType": {
    "type": "string",
    "defaultValue": "Standard_GRS",
    "metadata": {
      "description": "The type of the new storage account created to store the VM disks."
    }
  }
}
```

* To specify an optional parameter, don't use an empty string as a default value. Instead, use a literal value or a language expression to construct a value.

```JSON
"storageAccountName": {
   "type": "string",
   "defaultValue": "[concat('storage', uniqueString(resourceGroup().id))]",
   "metadata": {
     "description": "Name of the storage account"
   }
}
```

- Use `allowedValues` sparingly. Use it only when you must make sure some values aren't included in the permitted options. If you use `allowedValues` too broadly, you might block valid deployments by not keeping your list up to date.
    
- When a parameter name in your template matches a parameter in the PowerShell deployment command, Resource Manager resolves this naming conflict by adding the postfix **FromTemplate** to the template parameter. For example, if you include a parameter named **ResourceGroupName** in your template, it conflicts with the **ResourceGroupName** parameter in the [New-AzResourceGroupDeployment](https://learn.microsoft.com/en-us/powershell/module/az.resources/new-azresourcegroupdeployment) cmdlet. During deployment, you're prompted to provide a value for **ResourceGroupNameFromTemplate**.

### Security Recommendations for params

- Always use parameters for user names and passwords (or secrets).
    
- Use `securestring` for all passwords and secrets. If you pass sensitive data in a JSON object, use the `secureObject` type. Template parameters with secure string or secure object types can't be read after resource deployment.

```JSON
"parameters": {
  "secretValue": {
    "type": "securestring",
    "metadata": {
      "description": "The value of the secret to store in the vault."
    }
  }
}
```

- Don't provide default values for user names, passwords, or any value that requires a `secureString` type.
    
- Don't provide default values for properties that increase the attack surface area of the application.